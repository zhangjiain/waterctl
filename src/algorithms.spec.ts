import { expect, test } from "vitest";
import { crc16changgong, crc16cgaeaf } from "./algorithms";

test("crc16changgong", () => {
  expect(crc16changgong("11070")).toBe(0xd015);
  expect(crc16changgong("25333")).toBe(0x21e2);
  expect(crc16changgong("33982")).toBe(0x9b39);
  expect(crc16changgong("45130")).toBe(0xe08b);
  expect(crc16changgong("50312")).toBe(0x8d97); 
});

test("crc16cgaeaf", () => {
  expect(crc16cgaeaf(new Uint8Array([0x00, 0x00, 0x05, 0x95, 0x27, 0x03, 0x04, 0x05, 0x06, 0x07, 0x08, 0x09, 0x10, 0x11, 0x12]))).toBe(0x38);
  expect(crc16cgaeaf(new Uint8Array([0x00, 0x9b, 0x05, 0x95, 0x27, 0x03, 0x04, 0x05, 0x06, 0x07, 0x08, 0x09, 0x10, 0x11, 0x12]))).toBe(0xa2);
  expect(crc16cgaeaf(new Uint8Array([0x39, 0x9b, 0x05, 0x95, 0x27, 0x03, 0x04, 0x05, 0x06, 0x07, 0x08, 0x09, 0x10, 0x11, 0x12]))).toBe(0x5b);
  expect(crc16cgaeaf(new Uint8Array([0x00, 0xff, 0xff, 0x95, 0x27, 0x03, 0x04, 0x05, 0x06, 0x07, 0x08, 0x09, 0x10, 0x11, 0x12]))).toBe(0x9f);
  expect(crc16cgaeaf(new Uint8Array([0x00, 0x00, 0x01, 0xcf, 0x75, 0x31, 0xd4, 0xfe, 0x87, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00]))).toBe(0x69);
});
